name: ocelot.social test-e2e optimized
on:
  push:
    paths:
      - backend/**
      - webapp/**
      - neo4j/**
      - cypress/**
      - .github/workflows/test-e2e.yml
      - docker-compose*.yml
  workflow_dispatch: null
jobs:
  test:
    name: e2e test optimized
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Build maintenance image
        run: docker build -f webapp/Dockerfile.maintenance -t ocelotsocialnetwork/maintenance:test webapp/
      - name: Build neo4j image
        run: docker build -f neo4j/Dockerfile.community -t ocelotsocialnetwork/neo4j-community:test neo4j/
