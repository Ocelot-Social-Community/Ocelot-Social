type Location {
  id: ID!
  name(lang: String = ""): String!
    @cypher(
      statement: """
      RETURN COALESCE(
        CASE WHEN $lang <> '' THEN this['name' + toUpper($lang)] END,
        this['name' + $cypherParams.languageDefault],
        this.name,
        this.nameEN,
        this.id
      )
      """
    )
  type: String!
  lat: Float
  lng: Float
  parent: Location @cypher(statement: "MATCH (this)-[:IS_IN]->(l:Location) RETURN l")
  distanceToMe: Int
}

# This is not smart - we need one location for everything - use the same type everywhere!

type LocationMapBox {
  id: ID!
  place_name: String!
}

type Query {
  queryLocations(place: String!, lang: String!): [LocationMapBox]!
}
